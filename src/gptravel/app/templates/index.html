{% extends "base.html" %}

{% block content %}

<div class="main-container">
  <div class="search-form-heading">
    <h1>Where do you want to go?</h1>
    <form id="search-form" action="#" method="post">
      <div class="form-field">
        <label for="from">From:</label>
        <select name="from" id="from" required></select>
      </div>
      <div class="form-field">
        <label for="to">To:</label>
       <select name="to" id="to" required></select>
      </div>
      <div class="form-field">
        <label for="departure-date">Departure date:</label>
        <input type="date" name="departure-date" id="departure-date" required>
      </div>
      <div class="form-field">
        <label for="return-date">Return date:</label>
        <input type="date" name="return-date" id="return-date" required>
      </div>
      <div class="form-field">
        <label for="travel-option">Travel reason:</label>
        <select name="travel-option" id="travel-option">
          <option disabled selected value>Select a travel option</option>
            <option value="business">Business</option>
            <option value="romantic">Romantic</option>
            <option value="family">Family</option>
            <option value="friends">Friends</option>
            <option value="solo">Solo</option>
        </select>
      </div>
      <div class="form-submit">
      <button type="submit">Search</button>
    </div>
    </form>
  </div>
  <div id="loading-page">
    <div class="lds-dual-ring"></div>
  </div>

</div>

<script src="{{url_for('static', filename='js/app.js')}}"></script>
<script>

  // Hide loading page when the page is loaded
  window.addEventListener('load', () => {
        const loadingPage = document.getElementById('loading-page');
        loadingPage.style.display = 'none';
    });

  // Show the loading page when the form is submitted
  const searchForm = document.getElementById('search-form');
  const loadingPage = document.getElementById('loading-page');
  const searchFormHeading = document.querySelector('.search-form-heading');

  searchForm.addEventListener('submit', (event) => {
    event.preventDefault(); // Prevent the default form submission behavior
    loadingPage.style.display = 'block'; // Show the loading page
    searchForm.style.display = 'none'; // Hide the form
    searchFormHeading.style.display = 'none'; // Hide the form header
    searchForm.submit(); // Submit the form
  });
</script>

{% endblock %}